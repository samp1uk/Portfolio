/*! 
 * yale v0.0.1 [2019-06-28] 
 * Yale University 
 * Fastspot 
 */

!function(a){a(document).on("click keypress",".btn_site_seach",function(b){"click"!=b.type&&"13"!=b.keyCode&&"32"!=b.keyCode||(b.preventDefault(),b.stopPropagation(),setTimeout(function(){a(".btn_site_seach").attr("aria-expanded",!!a(".btn_site_seach").parents(".header").hasClass("js-toggle_active"))},250))}),a(document).on("submit",".gateway_form",function(b){var c=a(b.target),d=/^(f|ht)tps?:\/\//i,e=c.find(".fs-dropdown-item.fs-dropdown-item_selected").attr("data-value");b.preventDefault(),b.stopPropagation(),d.test(e)?window.location.href=e:window.location.href=window.location.origin+e}),a(document).on("keyup",".fs-dropdown, .fs-dropdown-item",function(b){if(32===b.keyCode)if(b.preventDefault(),b.stopPropagation(),a(b.target).hasClass("fs-dropdown")){var c=a(b.target).hasClass("fs-dropdown-open");c?(a(b.target).find(".fs-dropdown-element").eq(0).dropdown("close"),a(b.target).attr("aria-expanded",!1)):(a(b.target).find(".fs-dropdown-element").eq(0).dropdown("open"),a(b.target).attr("aria-expanded",!0)),c?a(b.target).find(".fs-dropdown-item").attr("tabindex","-1"):a(b.target).find(".fs-dropdown-item").attr("tabindex","0")}else if(a(b.target).hasClass("fs-dropdown-item")){a(b.target).click();}}),a(document).on('keypress', '.fs-dropdown', function(b){if(b.keyCode === 13){b.preventDefault();b.stopPropagation();if(a(b.target).hasClass('fs-dropdown-item')){a(b.target).click();var c = a(b.target).parents('.fs-dropdown');c.find('.fs-dropdown-element option').attr('selected', false);c.find('.fs-dropdown-element option').eq(a(b.target).index()).attr('selected', 'selected');c.find('.fs-dropdown-element').eq(0).dropdown('close');c.find('.fs-dropdown-element').eq(0).dropdown('update');c.find('.fs-dropdown-item_selected').removeClass('fs-dropdown-item_selected');c.attr('aria-expanded', false);setTimeout(function(){a(b.target).addClass('fs-dropdown-item_selected');c.find('.fs-dropdown-item').attr({'role': 'option','aria-selected': false});c.find('.fs-dropdown-item_selected').attr('aria-selected', true);},250);}else{var d = a(b.target).hasClass('fs-dropdown-open'); d ? (a(b.target).find('.fs-dropdown-element').eq(0).dropdown("close"),  a(b.target).attr('aria-expanded', false)) : (a(b.target).find('.fs-dropdown-element').eq(0).dropdown("open"), a(b.target).attr('aria-expanded', true));(d) ? a(b.target).find('.fs-dropdown-item').attr('tabindex', '-1') : a(b.target).find('.fs-dropdown-item').attr('tabindex', '0');}}}),a(document).on('focusin','.instagram_carousel_item_link', function(b){if(a(this).parents('.instagram_carousel_item').attr('aria-hidden') == 'true'){a(this).parents('.instagram_carousel_item').attr('aria-hidden', 'false')}}),a(document).on("click",".fs-dropdown, .fs-dropdown-item",function(b){if(a(b.target).hasClass("fs-dropdown")){var c=a(b.target).hasClass("fs-dropdown-open");c?(a(b.target).find(".fs-dropdown-element").eq(0).dropdown("close"),a(b.target).attr("aria-expanded",!1)):(a(b.target).find(".fs-dropdown-element").eq(0).dropdown("open"),a(b.target).attr("aria-expanded",!0))}else if(a(b.target).hasClass("fs-dropdown-item")){var d=a(b.target).parents(".fs-dropdown");d.attr("aria-expanded",!1),setTimeout(function(){d.find(".fs-dropdown-item").attr({role:"option","aria-selected":!1}),d.find(".fs-dropdown-item_selected").attr("aria-selected",!0),a(b.target).attr('aria-selected', true);},250)}}),a(window).width()<980&&a(".sub_nav_sidebar").length&&a(".page_content").before(a(".sub_nav_sidebar")),a(window).on("resize",function(){a(window).width()<980&&a(".sub_nav_sidebar").length?a(".page_content").before(a(".sub_nav_sidebar")):a(".page_content").after(a(".sub_nav_sidebar"))}),a.each(a(".fs-dropdown"),function(b,c){var d=a(this).find(".fs-dropdown-element").attr("id"),e=d+"-selected";a(this).attr({"aria-labelledby":e,"aria-live":"polite","aria-haspopup":"true",role:"listbox","aria-expanded":!1}).find(".fs-dropdown-selected").attr({"id":e,'aria-hidden':'false'}),a(this).find('.fs-dropdown-options').attr({'aria-hidden': 'false'}),"undefined"==typeof a(this).attr("aria-describedby")&&a(this).hasClass("explore_topics_dropdown")&&a(this).attr("aria-describedby","carouselPagerMsg")}),a(".fs-dropdown").on("focus",function(){if("undefined"==typeof a(this).attr("aria-labelledby")||a(this).attr("aria-labelledby").includes("undefined")){var b=a(this).find(".fs-dropdown-element").attr("id"),c=b+"-selected";a(this).attr({"aria-labelledby":c,"aria-live":"polite","aria-haspopup":"true",role:"listbox","aria-expanded":!1}).find(".fs-dropdown-selected").attr({"id":c,'aria-hidden':'false'}),$(this).find('.fs-dropdown-options').attr({'aria-hidden': 'false'});}"undefined"==typeof a(this).attr("aria-describedby")&&a(this).hasClass("explore_topics_dropdown")&&a(this).attr("aria-describedby","carouselPagerMsg")}),a.each(a('.instagram_carousel_item_footer_link'),function(b,c){a(this).prepend('<span class="sr-only">'+a(this).attr('title')+'</span>');}),a.each(a('.instagram_carousel_item_link'),function(b,c){a(this).attr('aria-label',a(this).siblings('.instagram_carousel_item_caption').find('.instagram_carousel_item_description').text());}),a(document).on('focus','a.explore_story_link',function(b){a(this).parent('article').css('border', '2px solid #fff');}).on('blur','a.explore_story_link',function(b){a(this).parent('article').css('border','none');}),a(document).on('keypress','.sub_nav_handle.fs-navigation-toggle-handle.fs-navigation-enabled',function(b){if(13==b.keyCode||32==b.keyCode){b.preventDefault();b.stopPropagation();a(this).click();}});var b=new MutationObserver(function(b){b.forEach(function(b){a.each(b.addedNodes,function(b,c){if("object"==typeof c.classList){var d=Object.values(c.classList);if(d.indexOf("fs-dropdown")>=0){var e=a(c).find(".fs-dropdown-element").attr("id"),f=e+"-selected";a(c).attr({"aria-labelledby":f,"aria-live":"polite","aria-haspopup":"true",role:"listbox","aria-expanded":!1}).find(".fs-dropdown-selected").attr({"id": f,'aria-hidden':'false'}),a(c).find('.fs-dropdown-options').attr({'aria-hidden': 'false'}),d.indexOf("explore_topics_dropdown")>=0&&a(c).attr("aria-describedby","carouselPagerMsg")}d.indexOf("fs-dropdown-item")>=0&&a(c).attr({role:"option","aria-selected":d.indexOf("fs-dropdown-item_selected")>=0})}})})});b.observe(document.documentElement,{childList:!0,subtree:!0}),setTimeout(function(){b.disconnect()},45e3),a(".sub_nav_handle").on("click",function(){a(this).hasClass("fs-navigation-open")?a(this).attr("aria-expanded","false"):a(this).attr("aria-expanded","true")})}(jQuery);
//# sourceMappingURL=a11y.js.map